# string vector array

* using namespace std;  
* 头文件不应包含 using

## string

### 定义和初始化string对象

初始化`string`对象的方式：

| 方式                  | 解释                                                    |
| --------------------- | ------------------------------------------------------- |
| `string s1`           | 默认初始化，`s1`是个空字符串                            |
| `string s2(s1)`       | `s2`是`s1`的副本                                        |
| `string s2 = s1`      | 等价于`s2(s1)`，`s2`是`s1`的副本                        |
| `string s3("value")`  | `s3`是字面值“value”的副本，除了字面值最后的那个空字符外 |
| `string s3 = "value"` | 等价于`s3("value")`，`s3`是字面值"value"的副本          |
| `string s4(n, 'c')`   | 把`s4`初始化为由连续`n`个字符`c`组成的串                |

* 拷贝初始化（copy initialization）：使用等号`=`将一个已有的对象拷贝到正在创建的对象。
* 直接初始化（direct initialization）：通过括号给对象赋值。

### string 操作

`string`的操作：

| 操作                 | 解释                                                                                       |
| -------------------- | ------------------------------------------------------------------------------------------ |
| `os << s`            | 将`s`写到输出流`os`当中，返回`os`                                                          |
| `is >> s`            | 从`is`中读取字符串赋给`s`，字符串以空白分割，返回`is`                                      |
| `getline(is, s)`     | 从`is`中读取一行赋给`s`，返回`is`                                                          |
| `s.empty()`          | `s`为空返回`true`，否则返回`false`                                                         |
| `s.size()`           | 返回`s`中字符的个数                                                                        |
| `s[n]`               | 返回`s`中第`n`个字符的**引用**，位置`n`从0计起                                             |
| `s1+s2`              | 返回`s1`和`s2`连接后的结果                                                                 |
| `s1=s2`              | 用`s2`的副本代替`s1`中原来的字符                                                           |
| `s1==s2`             | 如果`s1`和`s2`中所含的字符完全一样，则它们相等；`string`对象的相等性判断对字母的大小写敏感 |
| `s1!=s2`             | 同上                                                                                       |
| `<`, `<=`, `>`, `>=` | 利用字符在字典中的顺序进行比较，且对字母的大小写敏感（对第一个不相同的位置进行比较）       |

* string.size() 返回类型为 sting::size_type 是个无符号整数 不要与 有符号数进行比较等 混用 int 和 unsigned 可能带来问题.
* 字符串字面量不是 string 类型
* 使用 C++ 版本的标准库头文件(cname),例如 cctype
* 遍历字符串：使用**范围for**（range for）语句： `for (auto c: str)`，或者 `for (auto &c: str)`使用引用直接改变字符串中的字符。
* `str[x]`,[]输入参数为`string::size_type`类型，给出`int`整型也会自动转化为该类型

| 函数          | 解释                                                                      |
| ------------- | ------------------------------------------------------------------------- |
| `isalnum(c)`  | 当`c`是字母或数字时为真                                                   |
| `isalpha(c)`  | 当`c`是字母时为真                                                         |
| `iscntrl(c)`  | 当`c`是控制字符时为真                                                     |
| `isdigit(c)`  | 当`c`是数字时为真                                                         |
| `isgraph(c)`  | 当`c`不是空格但可以打印时为真                                             |
| `islower(c)`  | 当`c`是小写字母时为真                                                     |
| `isprint(c)`  | 当`c`是可打印字符时为真                                                   |
| `ispunct(c)`  | 当`c`是标点符号时为真                                                     |
| `isspace(c)`  | 当`c`是空白时为真（空格、横向制表符、纵向制表符、回车符、换行符、进纸符） |
| `isupper(c)`  | 当`c`是大写字母时为真                                                     |
| `isxdigit(c)` | 当`c`是十六进制数字时为真                                                 |
| `tolower(c)`  | 当`c`是大写字母，输出对应的小写字母；否则原样输出`c`                      |
| `toupper(c)`  | 当`c`是小写字母，输出对应的大写字母；否则原样输出`c`                      |

## vector

### 初始化

| 方法                        | 解释                                                          |
| --------------------------- | ------------------------------------------------------------- |
| `vector<T> v1`              | `v1`是一个空`vector`，它潜在的元素是`T`类型的，执行默认初始化 |
| `vector<T> v2(v1)`          | `v2`中包含有`v1`所有元素的副本                                |
| `vector<T> v2 = v1`         | 等价于`v2(v1)`，`v2`中包含`v1`所有元素的副本                  |
| `vector<T> v3(n, val)`      | `v3`包含了n个重复的元素，每个元素的值都是`val`                |
| `vector<T> v4(n)`           | `v4`包含了n个重复地执行了值初始化的对象                       |
| `vector<T> v5{a, b, c...}`  | `v5`包含了初始值个数的元素，每个元素被赋予相应的初始值        |
| `vector<T> v5={a, b, c...}` | 等价于`v5{a, b, c...}`                                        |

* 列表初始化： `vector<string> v {"a", "an", "the"};` （C++11）

### 其他 vector 操作

| 操作               | 解释                                                             |
| ------------------ | ---------------------------------------------------------------- |
| `v.emtpy()`        | 如果`v`不含有任何元素，返回真；否则返回假                        |
| `v.size()`         | 返回`v`中元素的个数                                              |
| `v.push_back(t)`   | 向`v`的尾端添加一个值为`t`的元素                                 |
| `v[n]`             | 返回`v`中第`n`个位置上元素的**引用**                             |
| `v1 = v2`          | 用`v2`中的元素拷贝替换`v1`中的元素                               |
| `v1 = {a,b,c...}`  | 用列表中元素的拷贝替换`v1`中的元素                               |
| `v1 == v2`         | `v1`和`v2`相等当且仅当它们的元素数量相同且对应位置的元素值都相同 |
| `v1 != v2`         | 同上                                                             |
| `<`,`<=`,`>`, `>=` | 以字典顺序进行比较                                               |

## iterator

* `auto b = v.begin();` 返回指向第一个元素的迭代器。
* `auto e = v.end();` 返回指向最后一个元素的下一个（哨兵,尾后,one past the end）的迭代器（off the end）。
* 如果容器为空， `begin()`和 `end()`返回的是同一个迭代器，都是尾后迭代器。
* 使用解引用符`*`访问迭代器指向的元素。
* **const_iterator**：只能读取容器内元素不能改变。
* **箭头运算符**： 解引用 + 成员访问，`it->mem`等价于 `(*it).mem`

| 运算符           | 解释                                   |
| ---------------- | -------------------------------------- |
| `*iter`          | 返回迭代器`iter`所指向的**元素的引用** |
| `iter->mem`      | 等价于`(*iter).mem`                    |
| `++iter`         | 令`iter`指示容器中的下一个元素         |
| `--iter`         | 令`iter`指示容器中的上一个元素         |
| `iter1 == iter2` | 判断两个迭代器是否相等                 |

`vector`和`string`迭代器支持的运算：

| 运算符               | 解释                                                                                                                                                                               |
| -------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `iter + n`           | 迭代器加上一个整数值仍得到一个迭代器，迭代器指示的新位置和原来相比向前移动了若干个元素。结果迭代器或者指示容器内的一个元素，或者指示容器尾元素的下一位置。                         |
| `iter - n`           | 迭代器减去一个整数仍得到一个迭代器，迭代器指示的新位置比原来向后移动了若干个元素。结果迭代器或者指向容器内的一个元素，或者指示容器尾元素的下一位置。                               |
| `iter1 += n`         | 迭代器加法的复合赋值语句，将`iter1`加n的结果赋给`iter1`                                                                                                                            |
| `iter1 -= n`         | 迭代器减法的复合赋值语句，将`iter2`减n的加过赋给`iter1`                                                                                                                            |
| `iter1 - iter2`      | 两个迭代器相减的结果是它们之间的距离，也就是说，将运算符右侧的迭代器向前移动差值个元素后得到左侧的迭代器。参与运算的两个迭代器必须指向的是同一个容器中的元素或者尾元素的下一位置。 |
| `>`、`>=`、`<`、`<=` | 迭代器的关系运算符，如果某迭代器                                                                                                                                                   |

## array

* 长度固定
* 初始化：`char input_buffer[buffer_size];`，长度必须是const表达式，或者不写，让编译器自己推断。
* 数组不允许直接赋值给另一个数组。

```cpp
int array[10];
int *ptrs[10];             // 10 个 指针数组
int(*pArray)[10] = &array; // 指向10个int 数组的指针
int(&rArray)[10] = array;  // 引用
int *(&pArray)[10] = ptrs; // 指向 10 个指针数组的引用
```

* 使用下标访问 `size_type`

### array 与 指针

* `string *p = stringArray` 相当于 `string *p = &stringArray[0]`
* 用数组初始化 `vector`： `int a[] = {1,2,3,4,5}; vector<int> v(begin(a), end(a));` 。

### C风格字符串

* 从C继承来的字符串。
* 用空字符结束（`\0`）。
* 对大多数应用来说，使用标准库 `string`比使用C风格字符串更安全、更高效。
* 获取 `string` 中的 `cstring` ： `const char *str = s.c_str();` 。

C标准库String函数，定义在`<cstring>` 中：

| 函数             | 介绍                                                                                                |
| ---------------- | --------------------------------------------------------------------------------------------------- |
| `strlen(p)`      | 返回`p`的长度，空字符不计算在内                                                                     |
| `strcmp(p1, p2)` | 比较`p1`和`p2`的相等性。如果`p1==p2`，返回0；如果`p1>p2`，返回一个正值；如果`p1<p2`，返回一个负值。 |
| `strcat(p1, p2)` | 将`p2`附加到`p1`之后，返回`p1`                                                                      |
| `strcpy(p1, p2)` | 将`p2`拷贝给`p1`，返回`p1`                                                                          |
